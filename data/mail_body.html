<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>

<div>
    
    <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
            <table class="table table-bordered table-hover">
                    <thead class='thead-dark'>
                        <tr>
                            <th colspan=5 center><h3>Restaurant Search Results</h3></th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for restaurant in restaurants %}
                            <tr class='table-primary'>
                                <td><b>Restaurant Name</b></td>
                                <td><b>{{ restaurant['Restaurant Name'] }}</b></td>
                            </tr>
                            <tr>
                                <td><i>Restaurant Address</i></td>
                                <td><i> {{ restaurant['Restaurant locality address'] }}</i></td>
                            </tr>
                            <tr>
                                <td>Rating</td>
                                <td>
                                    <div class='star' name="{{ restaurant['Zomato User Rating'] }}"></div> ({{ restaurant['Zomato User Rating'] }})
                                </td>
                            </tr>
                            <tr>
                                <td>Avg Price for 2 people</td>
                                <td>Rs. {{ restaurant['Average budget for two people'] }}</td>
                            </tr>
                            <tr ><td colspan=5>=======================================================================</td></tr>
                        {% endfor %}
                    </tbody>
                </table>
    </div>
</div>



<script>
    $(document).ready(function () {
        // document.getElementById("stars").innerHTML = getStars(3.6);

        function getStars(rating) {

            // Round to nearest half
            rating = Math.round(rating * 2) / 2;
            let output = [];

            // Append all the filled whole stars
            for (var i = rating; i >= 1; i--)
                output.push('<i class="fa fa-lg fa-star" aria-hidden="true" style="color: gold;"></i>&nbsp;');

            // If there is a half a star, append it
            if (i == .5) output.push('<i class="fa fa-lg fa-star-half-o" aria-hidden="true" style="color: gold;"></i>&nbsp;');

            // Fill the empty stars
            for (let i = (5 - rating); i >= 1; i--)
                output.push('<i class="fa fa-lg fa-star-o" aria-hidden="true" style="color: gold;"></i>&nbsp;');

            return output.join('');

        }

        elements = $('.star');
        elements.each(function() {
            data = getStars(parseFloat($(this).attr("name")));
            console.log(data);
            $(this).html(data);
        });
    });
</script>